<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.19.1 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Multivariate Methods | B2DD</title>
<meta name="description" content="TP4b project concerning the CP asymmetry in B2DD decays. ">



<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="B2DD">
<meta property="og:title" content="Multivariate Methods">
<meta property="og:url" content="http://localhost:4000/MLtrain/">


  <meta property="og:description" content="TP4b project concerning the CP asymmetry in B2DD decays. ">












<link rel="canonical" href="http://localhost:4000/MLtrain/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Patrick Odagiu",
      "url": "http://localhost:4000/"
    
  }
</script>


  <meta name="google-site-verification" content="google40d1e04e75572e6b" />





<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="B2DD Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single wide">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/logo.png" alt=""></a>
        
        <a class="site-title" href="/">
          B2DD
          <span class="site-subtitle">Analysis of asymmetry in B2DD decays at LHCb.</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/introduction/">Introduction</a>
            </li><li class="masthead__menu-item">
              <a href="/theory/">Theory</a>
            </li><li class="masthead__menu-item">
              <a href="/lhcb/">LHCb and Data</a>
            </li><li class="masthead__menu-item">
              <a href="/downloads/">Downloads</a>
            </li><li class="masthead__menu-item">
              <a href="/about/">About</a>
            </li></ul>
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle menu</label>
  <ul class="nav__items">
    
      <li>
        
          <a href="/MLtrain/"><span class="nav__sub-title">ML Run 1 Training</span></a>
        

        
        <ul>
          
            <li><a href="/MLtrain/run1/mldecay0/">$B^+\rightarrow D^+\bar{D}^0 \rightarrow \pi^+\pi^+K^- | K^+\pi^-$</a></li>
          
            <li><a href="/MLtrain/run1/mldecay1/">$B^+\rightarrow D^+\bar{D}^0 \rightarrow \pi^+\pi^+K^- | K^+\pi^-\pi^+\pi^-$</a></li>
          
            <li><a href="/MLtrain/run1/mldecay2/">$B^+\rightarrow D_s^+\bar{D}^0 \rightarrow \pi^+\pi^+K^- | K^+\pi^-$</a></li>
          
            <li><a href="/MLtrain/run1/mldecay3/">$B^+\rightarrow D_s^+\bar{D}^0 \rightarrow \pi^+\pi^+K^- | K^+\pi^-\pi^+\pi^-$</a></li>
          
            <li><a href="/MLtrain/run1/mldecay4/">$B^+\rightarrow D^{*+}\bar{D}^0 \rightarrow \pi^+_\mathrm{s} | \pi^+K^- | K^+\pi^-$</a></li>
          
            <li><a href="/MLtrain/run1/mldecay5/">$B^+\rightarrow D^{*+}\bar{D}^0 \rightarrow \pi^+_\mathrm{s} | \pi^+K^- | K^+\pi^-\pi^+\pi^-$</a></li>
          
            <li><a href="/MLtrain/run1/mldecay6/">$B^+\rightarrow D^{*+}\bar{D}^0 \rightarrow \pi^+_\mathrm{s} | K^-\pi^+\pi^-\pi^+ | K^+\pi^-$</a></li>
          
            <li><a href="/MLtrain/run1/mldecay7/">$B^+\rightarrow D^{*+}\bar{D}^0 \rightarrow \pi^+_\mathrm{s} | K^-\pi^+\pi^-\pi^+ | K^+\pi^-\pi^+\pi^-$</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <a href="/MLtrain/"><span class="nav__sub-title">ML Run 2 Training</span></a>
        

        
        <ul>
          
            <li><a href="/MLtrain/run2/mldecay0/">$B^+\rightarrow D^+\bar{D}^0 \rightarrow \pi^+\pi^+K^- | K^+\pi^-$</a></li>
          
            <li><a href="/MLtrain/run2/mldecay1/">$B^+\rightarrow D^+\bar{D}^0 \rightarrow \pi^+\pi^+K^- | K^+\pi^-\pi^+\pi^-$</a></li>
          
            <li><a href="/MLtrain/run2/mldecay2/">$B^+\rightarrow D_s^+\bar{D}^0 \rightarrow \pi^+\pi^+K^- | K^+\pi^-$</a></li>
          
            <li><a href="/MLtrain/run2/mldecay3/">$B^+\rightarrow D_s^+\bar{D}^0 \rightarrow \pi^+\pi^+K^- | K^+\pi^-\pi^+\pi^-$</a></li>
          
            <li><a href="/MLtrain/run2/mldecay4/">$B^+\rightarrow D^{*+}\bar{D}^0 \rightarrow \pi^+_\mathrm{s} | \pi^+K^- | K^+\pi^-$</a></li>
          
            <li><a href="/MLtrain/run2/mldecay5/">$B^+\rightarrow D^{*+}\bar{D}^0 \rightarrow \pi^+_\mathrm{s} | \pi^+K^- | K^+\pi^-\pi^+\pi^-$</a></li>
          
            <li><a href="/MLtrain/run2/mldecay6/">$B^+\rightarrow D^{*+}\bar{D}^0 \rightarrow \pi^+_\mathrm{s} | K^-\pi^+\pi^-\pi^+ | K^+\pi^-$</a></li>
          
            <li><a href="/MLtrain/run2/mldecay7/">$B^+\rightarrow D^{*+}\bar{D}^0 \rightarrow \pi^+_\mathrm{s} | K^-\pi^+\pi^-\pi^+ | K^+\pi^-\pi^+\pi^-$</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Multivariate Methods">
    
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Multivariate Methods
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>To reduce the combinatorial background, while maximizing the ratio of signal efficiency to background rejection, a multivariate selection based on a BDT is applied. Optimizing this BDT represents the main body of work for this analysis. The optimization process is described in this section. However, an introduction to MVAs is given first.</p>

<p>Generally, MVA algorithms take as input a signal sample, a background sample, and a set of discerning variables. The MVA classifies the variable space as signal or background, depending on the properties of the respective data. MVAs can exploit correlations between input variables and thus perform better than the traditional method of applying rectangular cuts. The output of the MVA is a single variable, denoted BDT_G in the plots, that represents how signal-like a certain event is. A decision tree has a structure that is very similar to a flowchart. The first decision node receives the full training sample and applies a requirement on one of the considered discriminating variables; the applied cut gives the best signal-background separation. Subsequently, two sub-samples are created, which are  used as inputs for the further nodes. The process continues until either the maximum number of requirements are applied, as set by the user, or there are no events left. The resulting nodes are thus classified as signal/background, depending on the main contribution. In case an event is misclassified by a decision tree, it is assigned a higher priority to ensure that the next decision tree is more likely to perform the classification properly. This process was named boosting and thus the term Boosted Decision Trees was coined to denote this type of MVA.</p>

<p>The training and reweighting of the training sample is repeated until a decision forest is obtained, which is subsequently combined into a single classifier by taking the weighted average of the forest. Due to being based on simple 1D optimisation, BDTs are insensitive to the inclusion of poorly discriminating input variables. As a caveat, this may limit their relative performance when compared to more sophisticated MVA methods. A total of 16 BDTs were trained and used for the studied decay modes.</p>

<p><a href="../histos">Preliminary histograms</a> sections describes the process through which initial sets of variables are selected to train each BDT. However, listing all these variables here would over-saturate the text. A complete inventory of the initial training variables is available on the left for each decay. The initial variable sets are refined through an iterative process, guided by two factors. First, the final training set should contain only variables that are minimally correlated, as to mitigate over-training. The correlation between different quantities is illustrated through correlation matrices. Secondly, the ratio between signal efficiency and background rejection should be high, since this will lead to a higher precision in the $CP$ asymmetry measurement. This efficiency is determined by the so called ROC curves.</p>

<p>The two contributions counter-balance one another. If a lot of variables are eliminated, as to guarantee minimum overtraining, the signal efficiency over the background rejection decreases; however, a high ratio is obtained through the inclusion of many variables, some of which are bound to have high correlation coefficients and thus produce an overtrained BDT. Therefore, each of the 16 BDTs were trained using 15 distinct variable mixtures. All the resulting correlation matrices, ROC curves, and overtraining figures ($\sim 100$ in total) are on the left of this section. By performing an overall comparison of the plots, obtained for each of the 16 BDTs, it was determined that the best training variables, the 13th set for each decay on the left. Furthermore, the input variables undergo an additional procedure to reduce correlations, in the form of training data transformations.</p>

<p>Finally, the $k$-folding technique is used to mitigate the eventual performance issues and eliminate biases that small data sets might experience in training the BDT by increasing the overall statistics. Withholding a subset of the signal and background samples is quintessential for post-training performance validation. Ideally, the size of the training and testing samples is the same. However, as stated at the start of the paragraph, this might hinder the performance of small data sets. To avoid this possible complication, $k = 5$ BDTs are trained for each variable combination in each decay chain, while withholding a different 20% of the sample for testing every time. Thus, the performance validation is done by evaluating the BDT on its excluded data. This procedure allows the majority of the signal and background samples to be used. Finally, the five different BDT responses are incorporated into the same analysis data set.</p>

        
      </section>

      <footer class="page__meta">
        
        


        
      </footer>

      

      
    </div>

    
  </article>

  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://github.com/bb511" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://people.epfl.ch/denis-patrick.odagiu" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-university" aria-hidden="true"></i> EPFL</a></li>
        
      
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2020 Patrick Odagiu. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>







<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML">
</script>

<script type="text/x-mathjax-config">
   MathJax.Hub.Config({
     extensions: ["tex2jax.js"],
     jax: ["input/TeX", "output/HTML-CSS"],
     tex2jax: {
       inlineMath: [ ['$','$'], ["\\(","\\)"] ],
       displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
       processEscapes: true
     },
     "HTML-CSS": { availableFonts: ["TeX"] }
   });
</script>




  </body>
</html>
